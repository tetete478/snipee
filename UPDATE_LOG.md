# Snipee 更新履歴

---

## Version 1.5.4 (2025-11-25)

### ✨ 新機能

- **ウィンドウサイズ自動調整**:
  - ホーム画面がコンテンツに応じて自動的にサイズ変更されるようになりました
  - サブメニューを開いた時だけウィンドウが大きくなり、閉じると元のサイズに戻ります
  - 無駄な余白がなくなり、画面がすっきりしました

- **自動ペースト機能の完成**:
  - **Mac版**: 正式に実装されました！アクセシビリティ権限を許可すると自動ペーストが使えます
  - **Windows版**: 自動ペーストが正常に動作するようになりました
  - スニペットや履歴を選択すると、元のアプリに自動で戻ってペーストされます

### 🔧 内部改善

- **コードの共通化**:
  - ウィンドウ管理のコードを共通化して約150行削減しました
  - より安定した動作を実現しました
  - 今後のメンテナンスが容易になりました

### 🐛 バグ修正

- **初回起動時のちらつき解消**:
  - アプリ起動時にウィンドウが一瞬大きく表示される問題を修正しました
  - コンテンツが完全に読み込まれてから表示されるようになりました

- **サブメニューが開かない問題を解決**:
  - ウィンドウサイズ計算の問題を修正しました
  - サブメニューが正常に表示されるようになりました

---

## Version 1.5.3 (2025-11-24)

### 🎨 デザイン刷新

- **Steve Jobs風グレーテーマ**:
  - 全体的にグレー系のミニマリストデザインに変更
  - フラットでクリーンな見た目に
  - アイコンをシンプルな記号に統一（✎⚙×）

- **UI調整**:
  - 各項目の高さをコンパクトに調整
  - アイコンサイズを統一（見やすさ向上）
  - サブメニューのスクロール問題を修正

### ⌨️ キーボード操作の強化

- **設定画面のキーボードナビゲーション**:
  - `←` `→` キーでタブ切り替え
  - `↑` `↓` キーでアイテム選択
  - `Enter` で実行、`Esc` で閉じる

- **スニペット編集画面のペイン移動**:
  - 個別スニペット選択時、`→` キーで編集エリアにフォーカス
  - さらに `→` で説明欄にフォーカス
  - `Esc` でサイドバーに戻る

### 🔧 コード改善

- **キーボードナビゲーションの共通化**:
  - 3つの画面で同じ仕組みを使うように統一
  - 約190行のコードを削減
  - より安定した動作に

---

## Version 1.5.2 (2025-11-24)

### 🔧 コードクリーンアップ

- **main.jsの大規模クリーンアップ**:
  - 使われていないsubmenu関連コードを約280行削除
  - アプリの軽量化とメンテナンス性が向上しました

- **サブメニュースタイルの統一**:
  - 簡易ホーム（index.html）とスニペット専用ホーム（snippets.html）で同じデザインに統一
  - スクロールバーのスタイルを共通化

- **未使用コードの削除**:
  - アクセシビリティ権限ガイドから未使用のCSSクラスを削除
  - 重複していたCSSを共通ファイルに移動

### 📊 Phase 1完了

- コード整理フェーズが完了しました
- 合計約600行のコードを削減
- より安定した動作を実現

---

## Version 1.5.1 (2025-11-23)

### 🔧 コード共通化の追加

- **サブメニュースクロールバーの統一**:
  - 簡易ホームとスニペット専用ホームでスクロールバーのスタイルを統一
  - オレンジ系のアクセントカラーで見やすく

- **DRY原則の徹底**:
  - 重複コードの共通化を実施
  - 今後のメンテナンスが容易に

---

## Version 1.5.0 (2025-11-23)

### 🔧 コードリファクタリング

- **CSS/JavaScriptの共通化**:
  - `common/variables.css` - CSS変数を定義（色、フォントサイズ、余白など）
  - `common/common.css` - 全ページ共通のスタイル（レイアウト、スクロールバーなど）
  - `common/utils.js` - JavaScript共通ユーティリティ関数

- **共通化された機能**:
  - HTMLエスケープ関数（`escapeHtml`, `escapeAttr`, `decodeHtmlEntities`）
  - データ処理関数（`groupByFolder`）
  - サブメニュー管理関数（`showInlineSubmenu`, `hideInlineSubmenu`, `updateSubmenuSelection`）
  - キーボード操作ヘルパー関数（`moveSelection`, `updateVisualSelection`）

- **メンテナンス性の向上**:
  - 重複コードを削除して保守性を向上
  - 一貫性のあるコードスタイルを実現
  - 今後の機能追加が容易に
  - デザインの統一（CSS変数で一括管理）

---

## Version 1.4.1 (2025-11-23)

### 🎨 UI/UX改善

- **スニペット編集画面の操作改善**:
  - フォルダ名・スニペット名をダブルクリックで直接編集可能に
  - 三角（▶）・フォルダアイコンでトグル、フォルダ名で選択に分離
  - Clipyライクな直感的操作を実現
  - 「名前を変更」ボタンを削除してUIをシンプル化

### 🐛 バグ修正

- フォルダ名変更時の重複チェックで自分自身も含まれる問題を修正
- 名前変更時にEnterキーとblurで2回実行される問題を修正

---

## Version 1.4.0 (2025-11-22)

### ✨ 新機能

- **スニペットの並び替えが可能に**:
  - 個別スニペットをドラッグ&ドロップで自由に並び替えられるようになりました
  - マスタスニペットも同様に並び替え可能です
  - 同じフォルダ内でのみ並び替えができます

### 🐛 バグ修正

- **ドラッグ時の青い線が2本出る問題を解決**:
  - スニペットを移動する時に、青い線が1本だけ表示されるようになりました

- **ドロップ時のガタつきを解消**:
  - スニペットを配置した瞬間に、画面がガタつかなくなりました

- **選択中のスニペットが見やすく**:
  - 選択中のスニペットの背景色を薄いグレーに変更しました
  - ドラッグ時の青い線がはっきり見えるようになりました

---

## Version 1.3.0 (2025-11-21)

### 🎨 UI/UX改善

- **スニペット専用ホームのUI改善**:
  - インラインサブメニュー構造に統一
  - 表示順をマスタ → 個別に統一
  - フォントサイズを11pxに統一
  - ウィンドウサイズを460×650pxに変更

- **設定画面のタブ化**:
  - 一般、ショートカット、同期、表示の4つのタブに整理
  - Apple風のミニマリストデザインに変更
  - コンパクトで見やすいレイアウトに改善

### 🐛 バグ修正

- **複数ウィンドウ間IPC通信によるフリーズ問題を修正**:
  - インラインサブメニュー方式に変更して安定性を向上

- **スニペット編集時のUI freeze問題を解決**:
  - 同期保存処理を非同期化して操作がスムーズに

- **簡易ホームが閉じない問題を解決**:
  - 簡易ホームから「スニペット編集」を開いた時に、簡易ホームが正常に閉じるようになりました

- **カーソル移動の問題を解決**:
  - 「スニペット編集」でEnterを押した時のカーソル移動が正常になりました

- **スニペット編集を閉じた時の挙動を改善**:
  - スニペット編集を閉じた時に、予期しない画面が表示されなくなりました

---

## Version 1.2.0 (2025-11-19)

### ✨ 新機能

- **個別スニペット機能**:
  - ローカル保存の編集可能なスニペットを追加できるようになりました
  - フォルダで整理してスニペットを管理できます
  - マスタスニペットと個別スニペットを併用できます

- **スニペット編集画面**:
  - 専用の編集画面でスニペットを管理
  - フォルダの作成・削除・名前変更
  - スニペットの作成・編集・削除
  - 自動保存機能

---

## Version 1.1.0 (2025-11-11)

### ✨ 新機能

- **ウィンドウ位置の記憶**:
  - アプリを閉じても、次回起動時に同じ位置で開くようになりました

- **クリップボード履歴のピン留め**:
  - よく使う履歴をピン留めして、常に上部に表示できるようになりました

- **フォルダの表示/非表示設定**:
  - 使わないフォルダを非表示にできるようになりました
  - 設定画面のフォルダ表示タブで管理できます

---

## Version 1.0.0 (2025-11-10)

### 🎉 初回リリース

#### クリップボード管理

- クリップボード履歴を自動で保存（最大100件）
- 10件ずつグループ化して見やすく表示
- ホットキーでサッと呼び出せる（Mac: `Command+Control+C`、Windows: `Ctrl+Alt+C`）

#### スニペット機能

- **マスタスニペット**: Google Driveで共有できるチーム用スニペット
- **XML形式対応**: Clipyからエクスポートしたファイルをそのまま使用可能
- フォルダで整理されたスニペットをホットキーで呼び出し（Mac: `Command+Control+V`、Windows: `Ctrl+Alt+V`）

#### カスタマイズ

- ホットキーを自由に変更可能
- コンパクトでシンプルなデザイン
- キーボードだけで全操作が可能

#### プラットフォーム

- Mac（macOS 10.14以降）
- Windows（Windows 10以降）

---

## 🎯 今後の予定

### 近日実装予定

- **全Window機能の統一**:
  - クリップボード履歴ウィンドウとスニペット専用ウィンドウで完全に同じ操作感を実現します

### 将来実装予定

- スニペット変数機能（{日付}、{名前}などのテンプレート変数）
- タグ管理機能（フォルダとは独立した分類軸）
- 履歴専門Window（より高機能なクリップボード履歴管理）

---

**最終更新**: 2025-11-25  
**現在のバージョン**: v1.5.4